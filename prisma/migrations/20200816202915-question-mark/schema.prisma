generator client {
  provider = "prisma-client-js"
}

///
datasource db {
  provider = "postgresql"
  url = "***"
}

model Exercise {
  createdAt     DateTime       @default(now())
  createdById   String?
  description   String
  formatId      String
  id            String         @id
  name          String
  User          User?          @relation(fields: [createdById], references: [id])
  format        Format         @relation(fields: [formatId], references: [id])
  muscleImpacts MuscleImpact[]
}

model Format {
  createdAt   DateTime               @default(now())
  description String
  id          String                 @id
  name        String
  exercises   Exercise[]
  measurables MeasurablesOnFormats[]
}

model Measurable {
  id      String                 @id
  name    String
  formats MeasurablesOnFormats[]
}

model MeasurablesOnFormats {
  format       Format     @relation(fields: [formatId], references: [id])
  formatId     String
  measurable   Measurable @relation(fields: [measurableId], references: [id])
  measurableId String
  @@id([formatId, measurableId])
}

model Muscle {
  createdAt     DateTime       @default(now())
  description   String
  id            String         @id
  name          String
  muscleImpacts MuscleImpact[]
}

model MuscleImpact {
  id           String     @id
  impactRating Int
  muscleId     String
  muscle       Muscle     @relation(fields: [muscleId], references: [id])
  exercises    Exercise[]
}

model User {
  id       String     @id
  password String
  username String     @unique
  Exercise Exercise[]
}
