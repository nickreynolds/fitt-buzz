# Migration `20200816200929-after-introspect`

This migration has been generated by Nick Reynolds at 8/16/2020, 4:09:29 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER INDEX "public"."User.username" RENAME TO "User.username_unique"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200816155322-asdf..20200816200929-after-introspect
--- datamodel.dml
+++ datamodel.dml
@@ -1,107 +1,104 @@
-// 1
-datasource db {
-    provider = "postgresql"
-    url = "***"
+generator client {
+  provider = "prisma-client-js"
 }
-// 2
-generator client {
-    provider = "prisma-client-js"
+/// 
+datasource db {
+  provider = "postgresql"
+  url = "***"
 }
-// 3
-
-model Muscle {
-    id           String         @id
-    createdAt    DateTime       @default(now())
-    name         String
-    description  String
-    MuscleImpact MuscleImpact[]
+model Exercise {
+  createdAt    DateTime       @default(now())
+  createdById  String?
+  description  String
+  formatId     String
+  id           String         @id
+  name         String
+  User         User?          @relation(fields: [createdById], references: [id])
+  Format       Format         @relation(fields: [formatId], references: [id])
+  Set          Set[]
+  MuscleImpact MuscleImpact[]
 }
-model MuscleImpact {
-    id           String     @id
-    muscle       Muscle     @relation(fields: [muscleId], references: [id])
-    impactRating Int
-    muscleId     String
-    exercises    Exercise[]
+model Format {
+  createdAt   DateTime     @default(now())
+  description String
+  id          String       @id
+  name        String
+  Exercise    Exercise[]
+  Measurable  Measurable[]
 }
 model Measurable {
-    id      String   @id
-    name    String
-    formats Format[]
+  id     String   @id
+  name   String
+  Format Format[]
 }
-model Format {
-    id          String       @id
-    createdAt   DateTime     @default(now())
-    name        String
-    description String
-    measurables Measurable[]
-    exercises   Exercise[]
+model Muscle {
+  createdAt    DateTime       @default(now())
+  description  String
+  id           String         @id
+  name         String
+  MuscleImpact MuscleImpact[]
 }
-model Exercise {
-    id            String         @id
-    createdAt     DateTime       @default(now())
-    name          String
-    description   String
-    format        Format         @relation(fields: [formatId], references: [id])
-    muscleImpacts MuscleImpact[] @relation(references: [id])
-    createdBy     User?          @relation(fields: [createdById], references: [id])
-    createdById   String?
-    sets          Set[]
-    formatId      String
+model MuscleImpact {
+  id           String     @id
+  impactRating Int
+  muscleId     String
+  Muscle       Muscle     @relation(fields: [muscleId], references: [id])
+  Exercise     Exercise[]
 }
-model Set {
-    id          String     @id
-    exercise    Exercise   @relation(fields: [exerciseId], references: [id])
-    restSeconds Int
-    exerciseId  String
-    createdBy   User       @relation(fields: [createdById], references: [id])
-    setGroups   SetGroup[]
-    createdById String
+model Routine {
+  color           String
+  createdAt       DateTime          @default(now())
+  createdById     String
+  description     String
+  id              String            @id
+  name            String
+  User            User              @relation(fields: [createdById], references: [id])
+  RoutineRevision RoutineRevision[]
 }
-model SetGroup {
-    id               String            @id
-    sets             Set[]
-    routineRevisions RoutineRevision[]
-    createdBy        User              @relation(fields: [createdById], references: [id])
-    createdById      String
+model RoutineRevision {
+  createdAt   DateTime   @default(now())
+  createdById String
+  id          String     @id
+  routineBlob String
+  routineId   String?
+  User        User       @relation(fields: [createdById], references: [id])
+  Routine     Routine?   @relation(fields: [routineId], references: [id])
+  SetGroup    SetGroup[]
 }
-model RoutineRevision {
-    id          String     @id
-    createdAt   DateTime   @default(now())
-    routineBlob String
-    setGroups   SetGroup[]
-    routine     Routine?   @relation(fields: [routineId], references: [id])
-    routineId   String?
-    createdBy   User       @relation(fields: [createdById], references: [id])
-    createdById String
+model Set {
+  createdById String
+  exerciseId  String
+  id          String     @id
+  restSeconds Int
+  User        User       @relation(fields: [createdById], references: [id])
+  Exercise    Exercise   @relation(fields: [exerciseId], references: [id])
+  SetGroup    SetGroup[]
 }
-model Routine {
-    id          String            @id
-    createdAt   DateTime          @default(now())
-    name        String
-    description String
-    color       String
-    createdBy   User              @relation(fields: [createdById], references: [id])
-    createdById String
-    revisions   RoutineRevision[]
+model SetGroup {
+  createdById     String
+  id              String            @id
+  User            User              @relation(fields: [createdById], references: [id])
+  RoutineRevision RoutineRevision[]
+  Set             Set[]
 }
 model User {
-    id              String            @id
-    username        String            @unique
-    password        String
-    routines        Routine[]
-    exercises       Exercise[]
-    Set             Set[]
-    SetGroup        SetGroup[]
-    RoutineRevision RoutineRevision[]
+  id              String            @id
+  password        String
+  username        String            @unique
+  Exercise        Exercise[]
+  Routine         Routine[]
+  RoutineRevision RoutineRevision[]
+  Set             Set[]
+  SetGroup        SetGroup[]
 }
```


